<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Custom attributes</title>
    <link rel="stylesheet" href="/bootstrap.min.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <h1>Custom attributes</h1>
      <div class=\"alert alert-info\">
Note: The attributes editor is currently only available in the Windows desktop version of Quest.

</div>

<p>We&#39;ll now start creating things in the kitchen, where we&#39;ll look at some more of Quest&#39;s features.</p>

<p>Enter a description like &quot;The kitchen is cold and the stench of the overflowing bin makes you feel somewhat faint.&quot; As an exercise, add a scenery object called &quot;bin&quot; and give it a sensible description.</p>

<p>We&#39;re now going to look at <strong>attributes</strong>. Every time we&#39;ve edited any aspect of an object or room so far, we&#39;ve actually been editing an attribute. The prefix, description, &quot;take&quot; behaviour and so on are all attributes of an object. Click an object and select the Attributes tab - you&#39;ll see all the underlying data for the object.</p>

<p>We can also use the Attributes tab to add our own custom data to any object. In this example, we&#39;ll store the weights of various objects by creating a new &quot;weight&quot; attribute. Later we will create a &quot;weigh&quot; command which will tell us the weight of <strong>any</strong> object.</p>

<h2>Adding Attributes</h2>

<p>First, let us create a few objects we can weigh. Create three objects – flour, eggs and sugar. Make sure the object types are set correctly (either &quot;inanimate object&quot; or &quot;inanimate object (plural)&quot;).</p>

<p>Now let&#39;s give them weights. We&#39;ll use units of grams, so we&#39;ll say the flour has a weight of 500, the eggs have a weight of 250, and the sugar has a weight of 1000.</p>

<p>First we&#39;ll set the flour&#39;s &quot;weight&quot; attribute to 500. To do this, select the flour object and go to the Attributes tab. We&#39;ll look at &quot;Inherited Types&quot; later - for now, go to the Attributes table and click the Add button. Enter the name &quot;weight&quot;. We want to to use whole numbers for weight values, so select &quot;Integer&quot; from the list and enter the value &quot;500&quot;.</p>

<p><img src="Weightflour.png" alt="" title="Weightflour.png"></p>

<p>Now follow the same process to set the weights of the eggs and the sugar.</p>

<h2>Reading Attributes</h2>

<p>You can read an attribute from any script command by using an <strong>expression</strong>. Expressions let you perform calculations, run functions, and read the values of variables and attributes. To read an attribute, you use this form:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> object.attribute
</code></pre></div>
<p>For example, to read the weight of the eggs, you would type:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> eggs.weight
</code></pre></div>
<p>Let&#39;s update the &quot;look at&quot; description of the eggs, as an example. Select the eggs object, and then under the &quot;Setup&quot; tab, change the &quot;Look at&quot; description to &quot;Run script&quot;. Add the &quot;print a message&quot; command. Now, instead of printing a normal message (which would never change, and can&#39;t read attributes), we want to print the result of an expression. So, click the &quot;message&quot; drop-down and select &quot;expression&quot; instead.</p>

<p><img src="Printexpression.png" alt="" title="Printexpression.png"></p>

<p>Enter this expression exactly, including the quotation marks in the correct place:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &quot;A box of eggs, weighing &quot; + eggs.weight + &quot; grams.&quot;
</code></pre></div>
<p>This will insert the value of the &quot;weight&quot; attribute in our text.</p>

<p>Always make sure that your object and attribute names match the expression exactly - it is recommended that you always use lower-case object and attribute names, as these names are case-sensitive.</p>

<p>Launch the game and verify that the correct response is displayed – it should read &quot;A box of eggs, weighing 250 grams.&quot;</p>

<p>Of course, we could have just manually entered this into the description of the eggs anyway – we didn&#39;t really need to use an attribute. The real power of this, though, is that you can easily change attributes while the game is running. We could change the &quot;weight&quot; attribute of the eggs for example, if the player used some of them to bake a cake (but, er, hopefully you&#39;ll have some slightly more exciting ideas for things that players can do in <em>your</em> game). After the attribute is updated, our &quot;look&quot; description would automatically reflect the current weight of the eggs.</p>

    </div>
  </body>
</html>
