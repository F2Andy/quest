<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dynamic Menus for Conversations</title>
    <link rel="stylesheet" href="/bootstrap.min.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <h1>Dynamic Menus for Conversations</h1>
      <p>This is a way to set up conversations in a game. The player types &quot;Talk To <character>&quot; and is presented with a menu of available topics, but the topics change over the course of the game. For example, once the player has the key, the menu choice &quot;Where is key&quot; is no longer displayed.</p>

<p>This kind of follows on from the page on <a href="conversations.html">Conversations</a>, and uses the same example, so you might like to briefly look at that.</p>

<p>The system is set up using the ConvLib library (right click and save to your computer):</p>

<p><a href="http://quest5.net/downloads/ConvLib.aslx">ConvLib.aslx</a> (now updated for Quest 5.4)</p>

<h3>Setting Up</h3>

<p>The first thing you need to do is to include the library in your game, so (once you have it downloaded) expand the &quot;Advanced&quot; object in the left pane, then click on &quot;Included Libraries&quot;. In the right pane, click on &quot;Add&quot;, and navigate to the downloaded file. Save and reload.</p>

<h3>Characters</h3>

<p>If you select a character, you should see a new tab has appeared, &quot;Conversation&quot;. Go to this tab, and set your character&#39;s type to &quot;Character&quot;. You may like to put in a greeting script. This will run the first time the player talks to this character, so could be introductions or just a greeting, or just leave it blank.</p>

<h3>Topics</h3>

<p>ConvLib treats each topic as an object in its own right. To give a character a topic, right click on the character, select &quot;Add Object&quot;, and give it a name (I put the character&#39;s name at the start, so I know whose it is). A conversation topic <em>must</em> have an alias, as this is used in the menu.</p>

<p>Now go to the &quot;Conversation&quot; tab again. The type must be set to &quot;Starting Conversation Topic&quot; or &quot;Conversation Topic&quot; (depending on whether this will be available from the start, of course).</p>

<p>By default topic will disappear after the player has seen them. To stop that, untick the &quot;Automatically hide after showing&quot; box. You can have new topics appear in the menu after the player has seen this one. Add the name (not the alias) to the list. This can be a topic for another character, by the way.</p>

<p>Finally, at the bottom of the tab, put in the script to run when the player chooses the topic. Usually this will just be some &quot;msg&quot; statements, but as before this can depend on the situation, though usually there will be a better way.</p>

<p>Here is the same example as before:</p>

<p><img src="Talk4.png" alt="" title="Talk4.png"></p>

<p>This is set up to disappear aftert the player sees it, to be replaced by philippa_key_again:</p>

<p><img src="Talk5.png" alt="" title="Talk5.png"></p>

<p>Conversation objects have scripts on them that will show them and hide them, so we can use that to change the topics when the key is taken. On the &quot;Inventory&quot; tab for the key:</p>

<p><img src="Talk6.png" alt="" title="Talk6.png"></p>

<p>Both key topics will be hidden, as we do not know which wll be showing when the key is taken; a new topic will appear instead. Note that the &quot;hide&quot; script takes priority over &quot;show&quot;. Once a topic has been hidden, it will not appear later even if you call show for it.</p>

<h3>Working Example</h3>

<p>This very simple game shows the system in use (right click and save to your computer).</p>

<p><a href="http://quest5.net/downloads/ConvDemo.aslx">ConvDemo.aslx</a></p>

    </div>
  </body>
</html>
