<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Translating Quest</title>
    <link rel="stylesheet" href="/bootstrap.min.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <h1>Translating Quest</h1>
      <h2>Introduction</h2>

<p>To translate Quest, make a copy of English.aslx and rename it for your language.</p>

<p>It is recommended that you include this line in your translated file:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &lt;include ref=&quot;English.aslx&quot;/&gt;
</code></pre></div>
<p>This will include the English template within yours. This means that if English.aslx is updated, your translation won&#39;t cause errors due to missing template entries.</p>

<h2>Translating default text</h2>

<p>Default text appears within <a href="../elements/template_element.html">template</a> and <a href="../elements/dynamictemplate_element.html">dynamictemplate</a> tags.</p>

<p>You can translate &quot;template&quot; tags directly, as they are simply static text.</p>

<p>Dynamic templates are expressions - usually these are templates that include some object attribute, for example:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &lt;dynamictemplate name=&quot;TakeSuccessful&quot;&gt;&quot;You pick &quot; + object.article + &quot; up.&quot;&lt;/dynamictemplate&gt;
</code></pre></div>
<p>Your translation should also be an expression, but you&#39;re not forced to use the same attributes. If it makes more sense for your language, for example, you could use the <a href="../attributes/gender.html">gender</a> instead of the <a href="../attributes/article.html">article</a> to create your sentence.</p>

<p>Some functions that appear within dynamic templates are defined in English.aslx - for example the <a href="../functions/corelibrary/getdefaultprefix.html">GetDefaultPrefix</a> and <a href="../functions/corelibrary/conjugate.html">Conjugate</a> functions. You&#39;re free to add, edit, or remove these functions in your template - of course, as long as you define any functions that you use in your dynamic templates.</p>

<p>If you want to know where a template is used, search through the Core library files. <a href="http://www.textpad.com">TextPad</a> for example has a good &quot;Find in Files&quot; feature.</p>

<h2>Translating commands</h2>

<p>Some commands are defined using a <a href="../elements/verbtemplate_element.html">verbtemplate</a> - you can have as many of these as you wish for any particular command, so feel free to add more if there are more alternatives. Likewise, feel free to remove any additional ones you don&#39;t need - there are 4 &quot;speakto&quot; verbtemplates in English.aslx, but it&#39;s fine for there to be fewer in your translation.</p>

<p>Some commands are defined like this:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &lt;template templatetype=&quot;command&quot; name=&quot;put&quot;&gt;&lt;![CDATA[^put (?&lt;object1&gt;.*) (on|in) (?&lt;object2&gt;.*)$]]&gt;&lt;/template&gt;
</code></pre></div>
<p>That may look a bit off-putting at first glance, but it&#39;s fairly simple. Let&#39;s break it down:</p>

<ul>
<li>  you don&#39;t need to worry about the templatetype - just leave it in. This is used so the Editor knows this is a template for a command, and that it doesn&#39;t need to display this template separately.</li>
<li>  the CDATA is simply XML formatting. Within the template, we&#39;re using &quot;&lt;&quot; and &quot;&gt;&quot; - so for our XML to be valid, we <em>must</em> enclose the template within a <a href="http://en.wikipedia.org/wiki/CDATA">CDATA</a> section - starting with &quot;&lt;![CDATA[&quot; and ending with &quot;]]&gt;&quot;</li>
</ul>

<p>So the only bit we need to worry about is inside the CDATA, which is this:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> ^put (?&lt;object1&gt;.*) (on|in) (?&lt;object2&gt;.*)$
</code></pre></div>
<p>This is a <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expression</a> (&quot;regex&quot;) and is simply a more advanced form of command pattern. This <a href="http://regexlib.com/CheatSheet.aspx">cheat sheet</a> is a handy syntax reference.</p>

<p>The &quot;^&quot; at the beginning and the &quot;\$&quot; at the end simply mean that this regex must match the <em>entire</em> player input. We don&#39;t want to match only a small fragment of what the player typed in - we want to understand the entire command. So leave those in.</p>

<p>That means you only need to worry about the bit in the middle:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> put (?&lt;object1&gt;.*) (on|in) (?&lt;object2&gt;.*)
</code></pre></div>
<p>The brackets are there for grouping. There are three groups in the regex above. The first one is named using the ?&lt;name&gt; syntax as &quot;object1&quot;. It matches &quot;.*&quot; which is the regex way of saying &quot;any number of any character&quot;. The second group matches &quot;on&quot; or &quot;in&quot;. The third group is named &quot;object2&quot;.</p>

<p>If we didn&#39;t have the &quot;(on|in)&quot; in there, this would be equivalent to this command pattern:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> put #object1# in #object2#
</code></pre></div>
<p>To translate it, you only need to worry about the &quot;put&quot; and &quot;on|in&quot; parts.</p>

<p>For example, in Deutsch.aslx the translation of this is:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &lt;template templatetype=&quot;command&quot; name=&quot;put&quot;&gt;&lt;![CDATA[^lege (1?&lt;object&gt;.*) (auf|in) (?&lt;object2&gt;.*)$]]&gt;&lt;/template&gt;
</code></pre></div>
<h2>Language-specific object types</h2>

<p>English doesn&#39;t have the concept of &quot;gender&quot; for inanimate objects, but most other languages do. To handle this, you can define &quot;masculine&quot; and &quot;feminine&quot; <a href="../elements/type_element.html">types</a> in your language file.</p>

<p>For example, in French:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &amp;lt;type name=&quot;masculine&quot;&amp;gt;
   &amp;lt;gender&amp;gt;il&amp;lt;/gender&amp;gt;
   &amp;lt;article&amp;gt;le&amp;lt;/article&amp;gt;
 &amp;lt;/type&amp;gt;

 &amp;lt;type name=&quot;feminine&quot;&amp;gt;
   &amp;lt;gender&amp;gt;elle&amp;lt;/gender&amp;gt;
   &amp;lt;article&amp;gt;la&amp;lt;/article&amp;gt;
 &amp;lt;/type&amp;gt;
</code></pre></div>
<p>Then the LanguageSpecificObjectTypes template should look like this:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> &lt;template name=&quot;LanguageSpecificObjectTypes&quot;&gt;masculine=Inanimate object (masculine); feminine=Inanimate object (feminine); &lt;/template&gt;
</code></pre></div>
<p>The type names in the template must match the type names you define. If they don&#39;t, you&#39;ll see errors in the Editor.</p>

<p>This will add two entries in the object &quot;Type&quot; dropdown, allowing the game author to choose masculine or feminine inanimate object types.</p>

<p>If your language has more than two genders, you can add more types and add them to the same LanguageSpecificObjectTypes template.</p>

<h2>Releasing your translation</h2>

<p>When you have finished your translation, if you&#39;d like it to be included with Quest so that other game authors can use it, please email it to <a href="mailto:alex@axeuk.com">alex@axeuk.com</a> for it to be included in the next release.</p>

<h2>Keeping the translation up to date</h2>

<p>Quest is continually improving, and as new features are added, new templates are added to English.aslx. This means that your language library will need to be updated to reflect new changes.</p>

<p>If you include English.aslx in your language file, as recommended, you won&#39;t see errors, but it does mean that there is a chance players will see some English text. To avoid this, you will need to keep your language file up to date to reflect changes made in English.aslx.</p>

<p>The easiest way to do this is to see what changes have been made to English.aslx by <a href="https://github.com/textadventures/quest">browsing the source code</a>. Navigate to WorldModel/WorldModel/Core/Languages/English.aslx, then you can use the &quot;Compare to other versions&quot; list in the top right. If you select &quot;Older versions&quot; from the list, you&#39;ll be able to see the changes made since a particular date.</p>

    </div>
  </body>
</html>
